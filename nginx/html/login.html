<!DOCTYPE html>
<html class="dark" lang="ko">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Chatbot Login</title>

<!-- Material Symbols -->
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght@400&display=swap" rel="stylesheet"/>

<!-- Tailwind CSS -->
<script src="https://cdn.tailwindcss.com?plugins=forms"></script>

<script>
tailwind.config = {
  darkMode: "class",
  theme: {
    extend: {
      colors: {
        primary: "#137fec",
        "background-light": "#f6f7f8",
        "background-dark": "#101922",
      },
      fontFamily: {
        display: ["Inter", "sans-serif"]
      }
    }
  }
}
</script>
</head>

<body class="bg-background-light dark:bg-background-dark font-display antialiased">

<div class="min-h-screen flex items-center justify-center px-4">
  <div class="w-full max-w-sm bg-white dark:bg-[#161b22] rounded-xl shadow-lg px-6 py-8">

    <!-- Logo -->
    <div class="flex flex-col items-center mb-6">
      <div class="w-14 h-14 rounded-xl bg-primary flex items-center justify-center mb-4">
        <span class="material-symbols-outlined text-white" style="font-size:28px;">smart_toy</span>
      </div>
      <h1 class="text-lg font-bold text-[#111418] dark:text-white">AI Workplace</h1>
      <p class="text-sm text-[#637588] dark:text-[#9dabb9] mt-1">
        로그인 후 이용해주세요
      </p>
    </div>

    <!-- Form -->
    <div class="space-y-4">

      <!-- ID -->
      <div>
        <label class="block text-xs font-medium text-[#111418] dark:text-white mb-1">
          아이디
        </label>
        <div class="relative">
          <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-[#9dabb9]" style="font-size:16px;">
            mail
          </span>
          <input
            id="loginId"
            type="text"
            placeholder="아이디 입력"
            class="w-full h-10 rounded-lg border border-[#dce0e5] dark:border-[#3b4754]
                   bg-white dark:bg-[#1c2127]
                   text-sm text-[#111418] dark:text-white
                   pl-9 pr-3
                   placeholder:text-[#9dabb9]
                   focus:ring-2 focus:ring-primary/40 focus:border-primary
                   transition-all"
          />
        </div>
      </div>

      <!-- Password -->
      <div>
        <label class="block text-xs font-medium text-[#111418] dark:text-white mb-1">
          비밀번호
        </label>
        <div class="relative">
          <span class="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-[#9dabb9]" style="font-size:16px;">
            lock
          </span>
          <input
            id="password"
            type="password"
            placeholder="비밀번호 입력"
            class="w-full h-10 rounded-lg border border-[#dce0e5] dark:border-[#3b4754]
                   bg-white dark:bg-[#1c2127]
                   text-sm text-[#111418] dark:text-white
                   pl-9 pr-9
                   placeholder:text-[#9dabb9]
                   focus:ring-2 focus:ring-primary/40 focus:border-primary
                   transition-all"
          />
          <button
            type="button"
            class="absolute right-2 top-1/2 -translate-y-1/2 text-[#9dabb9] hover:text-primary">
            <span class="material-symbols-outlined" style="font-size:18px;">
              visibility_off
            </span>
          </button>
        </div>
      </div>

    </div>

    <!-- Login Button -->
    <button
      id="loginBtn"
      class="mt-6 w-full h-10 rounded-lg bg-primary text-white text-sm font-semibold
             hover:bg-blue-600 transition-all active:scale-[0.98]">
      로그인
    </button>

  </div>
</div>

<script>
document.getElementById("loginBtn").addEventListener("click", async () => {
  const loginId = document.getElementById("loginId").value.trim();
  const password = document.getElementById("password").value.trim();

  if (!loginId || !password) {
    alert("아이디와 비밀번호를 입력하세요");
    return;
  }

  const res = await fetch("/api/login", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({
      login_id: loginId,
      password: password
    })
  });

  if (res.ok) {
    location.href = "/index.html";
  } else {
    alert("로그인 실패");
  }
});
</script>

</body>
</html>
