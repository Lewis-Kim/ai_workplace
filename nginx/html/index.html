<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Department Chatbot System</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css?t=20250126-1">
    <!-- Markdown -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dompurify@3.0.11/dist/purify.min.js"></script>

    <!-- (선택) 코드 하이라이트 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/styles/github-dark.min.css">
    <script src="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/lib/highlight.min.js"></script>
</head>
<body style="display: none;">
    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <!-- Company Logo -->
        <div class="company-logo">
            <img src="img/ci-w.svg" alt="Company Logo">
        </div>
        <!-- Profile Section -->
        <div class="profile-section">
            <div class="profile-header">
                <div class="profile-info">
                    <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Kim" alt="Profile" class="profile-avatar">
                    <div class="profile-details">
                        <h3 class="profile-name">Choi TaeSoo</h3>
                        <p class="profile-role">AI Development Team</p>
                    </div>
                    <span class="online-indicator"></span>
                </div>
                <button class="close-sidebar" id="closeSidebar">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <!-- Search Bar -->
            <div class="search-container">
                <i class="fas fa-search search-icon"></i>
                <input type="text" class="search-input" id="searchInput" placeholder="Search department...">
            </div>
        </div>

        <!-- Department Menu -->
        <nav class="department-menu">
            <!-- Administrative Section -->
            <div class="menu-section">
                <h4 class="section-title">DEPARTMENT</h4>
                <ul class="department-list">
                    <!-- <li class="department-item" data-department="marketing">
                        <i class="fas fa-bullhorn department-icon"></i>
                        <span class="department-name">Marketing</span>
                        <i class="fas fa-chevron-right arrow-icon"></i>
                    </li>
                    <li class="department-item" data-department="sales">
                        <i class="fas fa-chart-line department-icon"></i>
                        <span class="department-name">Sales</span>
                        <i class="fas fa-chevron-right arrow-icon"></i>
                    </li>
                    <li class="department-item" data-department="hr">
                        <i class="fas fa-user department-icon"></i>
                        <span class="department-name">HR</span>
                        <i class="fas fa-chevron-right arrow-icon"></i>
                    </li> -->
                    <li class="department-item" data-department="sangsang">
                        <i class="fas fa-user department-icon"></i>
                        <span class="department-name">상상스토리 어시스턴트</span>
                        <i class="fas fa-chevron-right arrow-icon"></i>
                    </li>                    
                </ul>
            </div>

            <!-- Recently -->
            <div class="menu-section">
                <h4 class="section-title">RECENTLY</h4>
                <ul class="recently-list" id="recently-list">
                    <!-- <li class="recently-item" data-department="marketing"> <span class="recently-name">2025년 '신규 고객 확보'의 연간 최종 수치와 목표 대비 달성률(%)은 무엇인가요?</span> </li> 
                    <li class="recently-item" data-department="marketing"> <span class="recently-name">2025년 '옴니채널' 전략의 Q3 진행률과 Q4 진행률의 차이를 계산해 주세요.</span> </li> 
                    <li class="recently-item" data-department="marketing"> <span class="recently-name">SNS 팔로워가 5,000명을 돌파한 시점은 몇 월이며, 전월 대비 몇 명이 증가했나요?</span> </li> 
                    <li class="recently-item" data-department="marketing"> <span class="recently-name">2024년 대비 2025년의 '월간 순이익'과 '마진율'은 각각 얼마나 개선되었는지 알려 주세요.</span> </li> 
                    <li class="recently-item" data-department="sales"> <span class="recently-name">2025년 ROI가 높았던 '채널개발' 성과의 연속성을 위해 2021년 이후 입사한 '운영/전략' 경력자 명단을 추출해 주세요.</span> </li> 
                    <li class="recently-item" data-department="hr"> <span class="recently-name">2026년 마케팅팀 인원 증원(2명→4명) 계획에 따라, 타 부서에서 '마케팅' 경력을 보유한 대리~과장급 적임자를 추천해 주세요.</span> </li> 
                    <li class="recently-item" data-department="hr"> <span class="recently-name">'영업팀'에서 '운영' 경력을 가진 사원과 대리급 인원은 누구이며, 그들의 입사일은 언제인가요?</span> </li> 
                    <li class="recently-item" data-department="hr"> <span class="recently-name">2021년에서 2023년 사이에 입사한 직원 중 '마케팅' 경력을 가진 사람들의 이름과 소속 부서를 리스트업해 주세요.</span> </li> -->
                </ul>
            </div>
        </nav>
        <!-- Bottom Menu -->
        <div class="bottom-menu">
            <button class="menu-button">
                <i class="fas fa-cog"></i>
                <span>App Settings</span>
            </button>
            <button class="menu-button" id="btnLogout">
                <i class="fas fa-sign-out-alt"></i>
                <span>Log Out</span>
            </button>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Header -->
        <header class="chat-header">
            <button class="menu-toggle" id="menuToggle">
                <i class="fas fa-bars"></i>
            </button>
            <div class="header-info">
                <span class="header-label">DEPARTMENT</span>
                <h1 class="header-title" id="departmentTitle">IT Support Team</h1>
            </div>
            <button class="settings-button">
                <i class="fas fa-cog"></i>
            </button>
        </header>

        <!-- Chat Container -->
        <div class="chat-container" id="chatContainer">
            <!-- Bot Info -->
            <div class="bot-info">
                <img src="https://api.dicebear.com/7.x/bottts/svg?seed=TechBot" alt="Tech Bot" class="bot-avatar-large">
                <h2 class="bot-name">Tech Bot</h2>
                <!-- <div class="bot-status">
                    <span class="status-indicator"></span>
                    <span class="status-text">Online • Typically replies instantly</span>
                </div> -->
            </div>

            <!-- Messages -->
            <div class="messages" id="messages">
                <div class="message-date">Today, 9:41 AM</div>
                
                <div class="message bot-message">
                    <img src="https://api.dicebear.com/7.x/bottts/svg?seed=TechBot" alt="Bot" class="message-avatar">
                    <div class="message-content">
                        <span class="message-sender">Tech Bot</span>
                        <div class="message-bubble">
                            Hello! I'm the IT Team Manager. 👋<br>
                            How can I assist you with your hardware or software needs today?
                        </div>
                    </div>
                </div>

                <div class="message user-message">
                    <div class="message-content">
                        <div class="message-bubble">
                            Hi! I seem to be having trouble with my VPN connection.
                        </div>
                        <span class="message-status">Read 9:42 AM</span>
                    </div>
                </div>

                <div class="message bot-message">
                    <img src="https://api.dicebear.com/7.x/bottts/svg?seed=TechBot" alt="Bot" class="message-avatar">
                    <div class="message-content">
                        <span class="message-sender">Tech Bot</span>
                        <div class="quick-actions">
                            <button class="quick-action-btn">
                                <i class="fas fa-wifi"></i>
                                Connection Issues
                            </button>
                            <button class="quick-action-btn">
                                <i class="fas fa-key"></i>
                                Reset Password
                            </button>
                            <button class="quick-action-btn">
                                <i class="fas fa-download"></i>
                                Download VPN Client
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Message Input -->
        <div class="message-input-container">
            <!-- <button class="attach-button">
                <i class="fas fa-plus"></i>
            </button> -->
            <button id="recordBtn" class="mic-img-btn">
                <img src="img/mic2.png" alt="Voice">
            </button>
            <span id="recordStatus" class="record-status"></span>
            <input type="text" class="message-input" id="messageInput" placeholder="Type a message...">
            <button class="send-button" id="sendButton">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </main>

    <script src="js/main.js?t=20250126-5"></script>
</body>
</html>
